<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>2014.1_doc: xilskey_utils.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>xilskey_utils.c File Reference</h1><code>#include &quot;xil_io.h&quot;</code><br>
<code>#include &quot;xil_types.h&quot;</code><br>
<code>#include &quot;<a class="el" href="xilskey__utils_8h.html">xilskey_utils.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#7988fb069d30088e51be76408f1c0ecd">XilSKey_EfusePs_XAdcInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#603582b50ae9aaef13a1ee6fec47847e">XilSKey_EfusePs_XAdcReadTemperatureAndVoltage</a> (<a class="el" href="struct_x_s_k_efuse_ps___x_adc.html">XSKEfusePs_XAdc</a> *XAdcInstancePtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#d87e48243147c517aee3f35baf213764">XilSKey_Efuse_StartTimer</a> (u32 RefClk)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#5383ec4ddfb03808757fae6bb938731a">XilSKey_Efuse_GetTime</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#959e7548cb7bba89d01a6d55a12bafdc">XilSKey_Efuse_SetTimeOut</a> (volatile u64 *t, u64 us)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#946fb5ecefc2c74b8caa8dc38147c73b">XilSKey_Efuse_IsTimerExpired</a> (u64 t)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#67445991c56576c1bfef9bda037b70c5">XilSKey_Efuse_ConvertStringToHexBE</a> (const char *Str, u8 *Buf, u32 Len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#57d1e4bfc3eacb406b82731601a3f79c">XilSKey_Efuse_ConvertStringToHexLE</a> (const char *Str, u8 *Buf, u32 Len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#3e8423c073dc61d777908fbc458517f3">XilSKey_EfusePs_ConvertBytesBeToLe</a> (const u8 *Be, u8 *Le, u32 Len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#692f0003f0f930c1d2a104ea99caa38c">XilSKey_Efuse_ConvertBitsToBytes</a> (const u8 *Bits, u8 *Bytes, u32 Len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#dbe780f7f34fe92a64a09eadfe9ee709">XilSKey_EfusePs_ConvertBytesToBits</a> (const u8 *Bytes, u8 *Bits, u32 Len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#3186e1f4ab5eb6b182ebaef1406a9d92">XilSKey_Efuse_ValidateKey</a> (const char *Key, u32 Len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#e38468445b3f350e9d90052307b16343">XilSKey_Efuse_IsValidChar</a> (const char *c)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#9e81b000e1137cc8d7aad655ce3fdc2a">XAdcDeviceId</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilskey__utils_8c.html#57bdf5bcaa5e9217eb45910234f01ffd">TimerTicksfor100ns</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl compact><dt><b>Note:</b></dt><dd>None.</dd></dl>
MODIFICATION HISTORY:<p>
Ver Who Date Changes ----- ---- -------- -------------------------------------------------------- 1.00a rpoolla 04/26/13 First release 2.00 hk 22/01/14 Corrected PL voltage checks to VCCINT and VCCAUX. CR#768077 <hr><h2>Function Documentation</h2>
<a class="anchor" name="692f0003f0f930c1d2a104ea99caa38c"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_ConvertBitsToBytes" ref="692f0003f0f930c1d2a104ea99caa38c" args="(const u8 *Bits, u8 *Bytes, u32 Len)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XilSKey_Efuse_ConvertBitsToBytes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const u8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>Bits</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>Bytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap> <em>Len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert the Bits to Bytes in Little Endian format Ex: 0x5C -&gt; {0, 0, 1, 1, 1, 0, 1, 0}<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Bits</em>&nbsp;</td><td>Input Buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Bytes</em>&nbsp;</td><td>is Output buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Len</em>&nbsp;</td><td>of the input buffer in bits </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>None Test Cases: Input with All Zeroes Input with All Ones Input Little Endian (General Cases ) Input Check Big Endian - False case Check for Len not a multiple of 8 Check for Len 0 Memory Bounds of buffer checking</dd></dl>
Make sure the bytes array is 0'ed first.<p>
Convert 8 Bit One Byte to 1 Bit 8 Bytes<p>
Convert from LSB -&gt; MSB - Little Endian<p>
If len is not Byte aligned     </td>
  </tr>
</table>
<a class="anchor" name="67445991c56576c1bfef9bda037b70c5"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_ConvertStringToHexBE" ref="67445991c56576c1bfef9bda037b70c5" args="(const char *Str, u8 *Buf, u32 Len)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u32 XilSKey_Efuse_ConvertStringToHexBE           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Str</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>Buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap> <em>Len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Converts the string into the equivalent Hex buffer. Ex: "abc123" -&gt; {0xab, 0xc1, 0x23}<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Str</em>&nbsp;</td><td>is a Input String. Will support the lower and upper case values. Value should be between 0-9, a-f and A-F</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Buf</em>&nbsp;</td><td>is Output buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Len</em>&nbsp;</td><td>of the input string. Should have even values </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS no errors occured.</li><li>XST_FAILURE an error when input parameters are not valid</li><li>an error when input buffer has invalid values</li></ul>
</dd></dl>
TDD Test Cases: ---Initialization--- Len is odd Len is zero Str is NULL Buf is NULL ---Functionality--- Str input with only numbers Str input with All values in A-F Str input with All values in a-f Str input with values in a-f, 0-9, A-F Str input with values in a-z, 0-9, A-Z Boundary Cases Memory Bounds of buffer checking<p>
Check the parameters<p>
Len has to be multiple of 2<p>
Convert char to nibble<p>
Convert char to nibble<p>
Merge upper and lower nibble to Hex<p>
Error converting Lower nibble<p>
Error converting Upper nibble<p>
Converted upper and lower nibbles     </td>
  </tr>
</table>
<a class="anchor" name="57d1e4bfc3eacb406b82731601a3f79c"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_ConvertStringToHexLE" ref="57d1e4bfc3eacb406b82731601a3f79c" args="(const char *Str, u8 *Buf, u32 Len)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u32 XilSKey_Efuse_ConvertStringToHexLE           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Str</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>Buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap> <em>Len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Converts the string into the equivalent Hex buffer. Ex: "abc123" -&gt; {0x23, 0xc1, 0xab}<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Str</em>&nbsp;</td><td>is a Input String. Will support the lower and upper case values. Value should be between 0-9, a-f and A-F</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Buf</em>&nbsp;</td><td>is Output buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Len</em>&nbsp;</td><td>of the input string. Should have even values </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS no errors occured.</li><li>XST_FAILURE an error when input parameters are not valid</li><li>an error when input buffer has invalid values</li></ul>
</dd></dl>
TDD Test Cases: ---Initialization--- Len is odd Len is zero Str is NULL Buf is NULL ---Functionality--- Str input with only numbers Str input with All values in A-F Str input with All values in a-f Str input with values in a-f, 0-9, A-F Str input with values in a-z, 0-9, A-Z Boundary Cases Memory Bounds of buffer checking<p>
Check the parameters<p>
Len has to be multiple of 2<p>
Convert char to nibble<p>
Convert char to nibble<p>
Merge upper and lower nibble to Hex<p>
Error converting Lower nibble<p>
Error converting Upper nibble<p>
Converted upper and lower nibbles     </td>
  </tr>
</table>
<a class="anchor" name="5383ec4ddfb03808757fae6bb938731a"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_GetTime" ref="5383ec4ddfb03808757fae6bb938731a" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u64 XilSKey_Efuse_GetTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the timer ticks from start of timer to till now.<p>
<dl compact><dt><b>Returns:</b></dt><dd></dd></dl>
t - Timer ticks lapsed till now.<p>
<dl compact><dt><b>Note:</b></dt><dd>None. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="946fb5ecefc2c74b8caa8dc38147c73b"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_IsTimerExpired" ref="946fb5ecefc2c74b8caa8dc38147c73b" args="(u64 t)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u8 XilSKey_Efuse_IsTimerExpired           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u64&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>t</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Checks whether the timer has been expired or not<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>- timeout value in us</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd></dd></dl>
t_end - Returns the global timer value in case of timer expired<p>
<dl compact><dt><b>Note:</b></dt><dd>None. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e38468445b3f350e9d90052307b16343"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_IsValidChar" ref="e38468445b3f350e9d90052307b16343" args="(const char *c)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u32 XilSKey_Efuse_IsValidChar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>c</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Checks whether the passed character is a valid hash key character<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>- Character to check proper value</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>XST_SUCCESS - In case of Success XST_FAILURE - In case of Failure </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="959e7548cb7bba89d01a6d55a12bafdc"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_SetTimeOut" ref="959e7548cb7bba89d01a6d55a12bafdc" args="(volatile u64 *t, u64 us)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XilSKey_Efuse_SetTimeOut           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">volatile u64 *&nbsp;</td>
          <td class="mdname" nowrap> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u64&nbsp;</td>
          <td class="mdname" nowrap> <em>us</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calculates the timer ticks to wait to set the time out<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>- timer ticks to wait to set the timeout </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>us</em>&nbsp;</td><td>- Timeout period in us</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>t - timer ticks to wait to set the timeout</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>None.</dd></dl>
us: time to wait in microseconds. Convert to clock ticks and add to current time.     </td>
  </tr>
</table>
<a class="anchor" name="d87e48243147c517aee3f35baf213764"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_StartTimer" ref="d87e48243147c517aee3f35baf213764" args="(u32 RefClk)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XilSKey_Efuse_StartTimer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u32&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>RefClk</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes the global timer &amp; starts it. Calculates the timer ticks for 1us.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>RefClk</em>&nbsp;</td><td>- reference clock</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd></dd></dl>
None<p>
<dl compact><dt><b>Note:</b></dt><dd>None.</dd></dl>
Extract PLL FDIV value from ARM PLL Control Register<p>
Extract Clock divisor value from ARM Clock Control Register<p>
Calculate the Timer ticks per 100ns<p>
Disable the Timer counter<p>
Write the lower 32 bit timer counter register.<p>
Write the upper 32 bit timer counter register.<p>
Enable the Timer counter     </td>
  </tr>
</table>
<a class="anchor" name="3186e1f4ab5eb6b182ebaef1406a9d92"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_Efuse_ValidateKey" ref="3186e1f4ab5eb6b182ebaef1406a9d92" args="(const char *Key, u32 Len)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u32 XilSKey_Efuse_ValidateKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>Key</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap> <em>Len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Validate the key for proper characters &amp; proper length<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Key</em>&nbsp;</td><td>- Hash Key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Len</em>&nbsp;</td><td>- Valid length of key</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>XST_SUCCESS - In case of Success XST_FAILURE - In case of Failure</dd></dl>
Make sure passed key is not NULL<p>
Make sure the key has valid length<p>
Make sure the key has valid characters     </td>
  </tr>
</table>
<a class="anchor" name="3e8423c073dc61d777908fbc458517f3"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_EfusePs_ConvertBytesBeToLe" ref="3e8423c073dc61d777908fbc458517f3" args="(const u8 *Be, u8 *Le, u32 Len)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XilSKey_EfusePs_ConvertBytesBeToLe           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const u8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>Be</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>Le</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap> <em>Len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to convert the Big Endian Byte data to Little Endian Byte data For ex: 1234567890abcdef -&gt; 78563412efcdab90<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Be</em>&nbsp;</td><td>Big endian data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Le</em>&nbsp;</td><td>Little endian data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Len</em>&nbsp;</td><td>Length of data to be converted and it should be multiple of 4 </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS no errors occurred.</li><li>XST_FAILURE an error occurred during reading the PS eFUSE.</li></ul>
</dd></dl>
TDD Test Cases:     </td>
  </tr>
</table>
<a class="anchor" name="dbe780f7f34fe92a64a09eadfe9ee709"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_EfusePs_ConvertBytesToBits" ref="dbe780f7f34fe92a64a09eadfe9ee709" args="(const u8 *Bytes, u8 *Bits, u32 Len)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XilSKey_EfusePs_ConvertBytesToBits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const u8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>Bytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>Bits</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap> <em>Len</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert the Bytes to Bits in little endian format 0th byte is LSB, 7th byte is MSB Ex: {0, 0, 1, 1, 1, 0, 1, 0} -&gt; 0x5C<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Bytes</em>&nbsp;</td><td>Input Buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Bits</em>&nbsp;</td><td>is Output buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Len</em>&nbsp;</td><td>of the input buffer. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>None Test Cases: Input with All Zeroes Input with All Ones Input Little Endian (General Cases ) Input Check Big Endian - False case Check for Len not a multiple of 8 Check for Len 0 Memory Bounds of buffer checking</dd></dl>
Make sure the bits array is 0 first.<p>
Convert 1 Bit 8 Bytes to 8 Bit 1 Byte<p>
Store from LSB -&gt; MSB - Little Endian<p>
If Len is not Byte aligned     </td>
  </tr>
</table>
<a class="anchor" name="7988fb069d30088e51be76408f1c0ecd"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_EfusePs_XAdcInit" ref="7988fb069d30088e51be76408f1c0ecd" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u32 XilSKey_EfusePs_XAdcInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to initialize the XADC driver<p>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS in case of no errors.</li><li>XSK_EFUSEPS_ERROR_XADC_CONFIG Error occurred with XADC config.</li><li>XSK_EFUSEPS_ERROR_XADC_INITIALIZE Error occurred while XADC initialization</li><li>XSK_EFUSEPS_ERROR_XADC_SELF_TEST Error occurred in XADC self test.</li></ul>
</dd></dl>
TDD Cases:<p>
specify the Device ID that is generated in xparameters.h<p>
Initialize the XAdc driver.<p>
Self Test the XADC/ADC device<p>
Disable the Channel Sequencer before configuring the Sequence registers.     </td>
  </tr>
</table>
<a class="anchor" name="603582b50ae9aaef13a1ee6fec47847e"></a><!-- doxytag: member="xilskey_utils.c::XilSKey_EfusePs_XAdcReadTemperatureAndVoltage" ref="603582b50ae9aaef13a1ee6fec47847e" args="(XSKEfusePs_XAdc *XAdcInstancePtr)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XilSKey_EfusePs_XAdcReadTemperatureAndVoltage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_x_s_k_efuse_ps___x_adc.html">XSKEfusePs_XAdc</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>XAdcInstancePtr</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to copy the min, max and current value of the temperature and voltage which are read from XADC.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>XAdcInstancePtr</em>&nbsp;</td><td>Pointer to the <a class="el" href="struct_x_s_k_efuse_ps___x_adc.html">XSKEfusePs_XAdc</a>. User has to fill the VType to specify the type of voltage. Valid values for VType are<ul>
<li>XSK_EFUSEPS_VPINT</li><li>XSK_EFUSEPS_VPDRO</li><li>XSK_EFUSEPS_VPAUX</li></ul>
</td></tr>
  </table>
</dl>
<ul>
<li>XSK_EFUSEPS_VINT</li><li>XSK_EFUSEPS_VAUX</li></ul>
<p>
<dl compact><dt><b>Returns:</b></dt><dd>none</dd></dl>
TDD Cases:<p>
Read the on-chip Temperature Data (Current/Maximum/Minimum) from the ADC data registers.<p>
Read the VccPint Voltage Data (Current/Maximum/Minimum) from the ADC data registers.     </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="57bdf5bcaa5e9217eb45910234f01ffd"></a><!-- doxytag: member="xilskey_utils.c::TimerTicksfor100ns" ref="57bdf5bcaa5e9217eb45910234f01ffd" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u32 <a class="el" href="xilskey__utils_8c.html#57bdf5bcaa5e9217eb45910234f01ffd">TimerTicksfor100ns</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Global Variable to store ticks/100ns     </td>
  </tr>
</table>
<a class="anchor" name="9e81b000e1137cc8d7aad655ce3fdc2a"></a><!-- doxytag: member="xilskey_utils.c::XAdcDeviceId" ref="9e81b000e1137cc8d7aad655ce3fdc2a" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u16 <a class="el" href="xilskey__utils_8c.html#9e81b000e1137cc8d7aad655ce3fdc2a">XAdcDeviceId</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
XADC Device ID     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Feb 13 14:41:50 2014 for 2014.1_doc by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>2014.1_doc: xilisf_write.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>xilisf_write.c File Reference</h1><code>#include &quot;<a class="el" href="xilisf_8h.html">include/xilisf.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xilisf__write_8c.html#ffd7e46280baaec6036a14b9c56d2c85">XIsf_Write</a> (<a class="el" href="struct_x_isf.html">XIsf</a> *InstancePtr, <a class="el" href="xilisf_8h.html#807b0746a7fb7574beee1c11fdc9bb9f">XIsf_WriteOperation</a> Operation, void *OpParamPtr)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file contains the library functions to write to the Serial Flash devices. Refer <a class="el" href="xilisf_8h.html">xilisf.h</a> for detailed description.<p>
<pre></pre><p>
<pre> MODIFICATION HISTORY:</pre><p>
<pre> Ver   Who      Date     Changes
 ----- -------  -------- -----------------------------------------------
 1.00a ksu/sdm  03/03/08 First release
 2.01a sdm      01/04/10 Added Support for Winbond W25QXX/W25XX devices
 2.04a sdm      08/17/10 Updated to support Numonyx (N25QXX) and Spansion
			  flash memories
 3.00a srt	 06/20/12 Updated to support interfaces SPI PS and QSPI PS.
			  Added support to SST flash on SPI PS interface.</pre><p>
<pre> </pre> <hr><h2>Function Documentation</h2>
<a class="anchor" name="ffd7e46280baaec6036a14b9c56d2c85"></a><!-- doxytag: member="xilisf_write.c::XIsf_Write" ref="ffd7e46280baaec6036a14b9c56d2c85" args="(XIsf *InstancePtr, XIsf_WriteOperation Operation, void *OpParamPtr)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int XIsf_Write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_x_isf.html">XIsf</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="xilisf_8h.html#807b0746a7fb7574beee1c11fdc9bb9f">XIsf_WriteOperation</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Operation</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>OpParamPtr</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This API writes the data to the Serial Flash.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_isf.html">XIsf</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Operation</em>&nbsp;</td><td>is the type of write operation to be performed on the Serial Flash. The different operations are<ul>
<li>XISF_WRITE: Normal Write</li><li>XISF_DUAL_IP_PAGE_WRITE: Dual Input Fast Program</li><li>XISF_DUAL_IP_EXT_PAGE_WRITE: Dual Input Extended Fast Program</li><li>XISF_QUAD_IP_PAGE_WRITE: Quad Input Fast Program</li><li>XISF_QUAD_IP_EXT_PAGE_WRITE: Quad Input Extended Fast Program</li><li>XISF_AUTO_PAGE_WRITE: Auto Page Write</li><li>XISF_BUFFER_WRITE: Buffer Write</li><li>XISF_BUF_TO_PAGE_WRITE_WITH_ERASE: Buffer to Page Transfer with Erase</li><li>XISF_BUF_TO_PAGE_WRITE_WITHOUT_ERASE: Buffer to Page Transfer without Erase</li><li>XISF_WRITE_STATUS_REG: Status Register Write</li><li>XISF_WRITE_STATUS_REG2: 2 byte Status Register Write</li><li>XISF_OTP_WRITE: OTP Write.</li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OpParamPtr</em>&nbsp;</td><td>is the pointer to a structure variable which contains operational parameters of the specified operation. This parameter type is dependant on value of first argument (Operation).</td></tr>
  </table>
</dl>
<ul>
<li>Normal Write (XISF_WRITE), Dual Input Fast Program (XISF_DUAL_IP_PAGE_WRITE), Dual Input Extended Fast Program (XISF_DUAL_IP_EXT_PAGE_WRITE), Quad Input Fast Program (XISF_QUAD_IP_PAGE_WRITE), Quad Input Extended Fast Program (XISF_QUAD_IP_EXT_PAGE_WRITE): The OpParamPtr must be of type struct <a class="el" href="struct_x_isf___write_param.html">XIsf_WriteParam</a>. OpParamPtr-&gt;Address is the start address in the Serial Flash. OpParamPtr-&gt;WritePtr is a pointer to the data to be written to the Serial Flash. OpParamPtr-&gt;NumBytes is the number of bytes to be written to the Serial Flash. This operation is supported for Atmel, Intel, STM, Winbond and Spansion Serial Flash.</li></ul>
<p>
<ul>
<li>Auto Page Write (XISF_AUTO_PAGE_WRITE): The OpParamPtr must be of 32 bit unsigned integer variable. This is the address of page number in the Serial Flash which is to be refreshed. This operation is only supported for Atmel Serial Flash.</li></ul>
<p>
<ul>
<li>Buffer Write (XISF_BUFFER_WRITE): The OpParamPtr must be of type struct <a class="el" href="struct_x_isf___buffer_to_flash_write_param.html">XIsf_BufferToFlashWriteParam</a>. OpParamPtr-&gt;BufferNum specifies the internal SRAM Buffer of the Serial Flash. The valid values are XISF_PAGE_BUFFER1 or XISF_PAGE_BUFFER2. XISF_PAGE_BUFFER2 is not valid in the case of AT45DB011D Flash as it contains a single buffer. OpParamPtr-&gt;WritePtr is a pointer to the data to be written to the Serial Flash SRAM Buffer. OpParamPtr-&gt;ByteOffset is byte offset in the buffer from where the data is to be written. OpParamPtr-&gt;NumBytes is the number of bytes to be written to the Buffer. This operation is supported only for Atmel Serial Flash.</li></ul>
<p>
<ul>
<li>Buffer To Memory Write With Erase (XISF_BUF_TO_PAGE_WRITE_WITH_ERASE)/ Buffer To Memory Write Without Erase (XISF_BUF_TO_PAGE_WRITE_WITHOUT_ERASE): The OpParamPtr must be of type struct <a class="el" href="struct_x_isf___buffer_to_flash_write_param.html">XIsf_BufferToFlashWriteParam</a>. OpParamPtr-&gt;BufferNum specifies the internal SRAM Buffer of the Serial Flash. The valid values are XISF_PAGE_BUFFER1 or XISF_PAGE_BUFFER2. XISF_PAGE_BUFFER2 is not valid in the case of AT45DB011D Flash as it contains a single buffer. OpParamPtr-&gt;Address is starting address in the Serial Flash memory from where the data is to be written. These operations are only supported for Atmel Serial Flash.</li></ul>
<p>
<ul>
<li>Write Status Register (XISF_WRITE_STATUS_REG): The OpParamPtr must be of type of 8 bit unsigned integer variable. This is the value to be written to the Status Register. This operation is only supported for Intel, STM Winbond and Spansion Serial Flash.</li></ul>
<p>
<ul>
<li>Write Status Register2 (XISF_WRITE_STATUS_REG2): The OpParamPtr must be of type (u8 *) and should point to two 8 bit unsigned integer values. This is the value to be written to the 16 bit Status Register. This operation is only supported in Winbond (W25Q) Serial Flash.</li></ul>
<p>
<ul>
<li>One Time Programmable Area Write (XISF_OTP_WRITE): The OpParamPtr must be of type struct <a class="el" href="struct_x_isf___write_param.html">XIsf_WriteParam</a>. OpParamPtr-&gt;Address is the address in the SRAM Buffer of the Serial Flash to which the data is to be written. OpParamPtr-&gt;WritePtr is a pointer to the data to be written to the Serial Flash. OpParamPtr-&gt;NumBytes should be set to 1 when performing OTPWrite operation. This operation is only supported for Intel Serial Flash.</li></ul>
<p>
<dl compact><dt><b>Returns:</b></dt><dd>XST_SUCCESS if successful else XST_FAILURE.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd><ul>
<li>Application must fill the structure elements of the third argument and pass its pointer by type casting it with void pointer.</li><li>For Intel, STM, Winbond and Spansion Serial Flash, the user application must call the <a class="el" href="xilisf_8h.html#ce8dd0bdcd65aa50b52fd1d61a1fb5f3">XIsf_WriteEnable()</a> API by passing XISF_WRITE_ENABLE as an argument, before calling the <a class="el" href="xilisf_8h.html#ffd7e46280baaec6036a14b9c56d2c85">XIsf_Write()</a> API. </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Feb 13 14:38:18 2014 for 2014.1_doc by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>

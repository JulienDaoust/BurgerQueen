<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   Xilinx Driver usbps v2_2: xusbps_intr.c File Reference
</title>
<link href="doxygen_kalyanidocs/doc/css/driver_api_doxygen.css" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">

<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>xusbps_intr.c File Reference</h1><code>#include &quot;<a class="el" href="xusbps_8h.html">xusbps.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="xusbps__endpoint_8h.html">xusbps_endpoint.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xusbps__intr_8c.html#a60e2b0f6fabc24cdf785d704ab2585d1">XUsbPs_IntrHandler</a> (void *HandlerRef)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xusbps__intr_8c.html#a521c050d3b146bb58862f5fadf7f6ba6">XUsbPs_IntrSetHandler</a> (<a class="el" href="struct_x_usb_ps.html">XUsbPs</a> *InstancePtr, <a class="el" href="xusbps_8h.html#a874b9f224a6f0b430a95ec2d143173b4">XUsbPs_IntrHandlerFunc</a> CallBackFunc, void *CallBackRef, u32 Mask)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This file contains the functions that are related to interrupt processing for the EPB USB driver.</p>
<pre>
 MODIFICATION HISTORY:</pre><pre> Ver   Who  Date     Changes
 ----- ---- -------- ----------------------------------------------------------
 1.00a jz  10/10/10 First release
 1.03a nm  09/21/12 Fixed CR#678977. Added proper sequence for setup packet
                    handling.
 </pre> <hr/><h2>Function Documentation</h2>
<a class="anchor" id="a60e2b0f6fabc24cdf785d704ab2585d1"></a><!-- doxytag: member="xusbps_intr.c::XUsbPs_IntrHandler" ref="a60e2b0f6fabc24cdf785d704ab2585d1" args="(void *HandlerRef)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XUsbPs_IntrHandler </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>HandlerRef</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is the first-level interrupt handler for the USB core. All USB interrupts will be handled here. Depending on the type of the interrupt, second level interrupt handler may be called. Second level interrupt handlers will be registered by the user using the: <a class="el" href="xusbps_8h.html#a521c050d3b146bb58862f5fadf7f6ba6">XUsbPs_IntrSetHandler()</a> and/or <a class="el" href="xusbps_8h.html#a04fb0b564bcd01cdf33e29ca2732656a">XUsbPs_EpSetHandler()</a> functions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>HandlerRef</em>&nbsp;</td><td>is a Reference passed to the interrupt register function. In our case this will be a pointer to the <a class="el" href="struct_x_usb_ps.html">XUsbPs</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a521c050d3b146bb58862f5fadf7f6ba6"></a><!-- doxytag: member="xusbps_intr.c::XUsbPs_IntrSetHandler" ref="a521c050d3b146bb58862f5fadf7f6ba6" args="(XUsbPs *InstancePtr, XUsbPs_IntrHandlerFunc CallBackFunc, void *CallBackRef, u32 Mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XUsbPs_IntrSetHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_usb_ps.html">XUsbPs</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xusbps_8h.html#a874b9f224a6f0b430a95ec2d143173b4">XUsbPs_IntrHandlerFunc</a>&nbsp;</td>
          <td class="paramname"> <em>CallBackFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>CallBackRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>Mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function registers the user callback handler for controller (non-endpoint) interrupts.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_usb_ps.html">XUsbPs</a> instance of the controller. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CallBackFunc</em>&nbsp;</td><td>is the Callback function to register. CallBackFunc may be NULL to clear the entry. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CallBackRef</em>&nbsp;</td><td>is the user data reference passed to the callback function. CallBackRef may be NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Mask</em>&nbsp;</td><td>is the User interrupt mask. Defines which interrupts will cause the callback to be called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS: Callback registered successfully.</li>
<li>XST_FAILURE: Callback could not be registered.</li>
</ul>
</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
</div>
<p class="Copyright">
Copyright &copy; 1995-2014 Xilinx, Inc. All rights reserved.
</p>
</body>
</html>

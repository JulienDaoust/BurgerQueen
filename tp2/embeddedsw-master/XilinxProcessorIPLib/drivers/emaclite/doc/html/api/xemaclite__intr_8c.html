<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   Xilinx Driver dmaps v4_0: xemaclite_intr.c File Reference
</title>
<link href="doxygen_kalyanidocs/doc/css/driver_api_doxygen.css" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">

<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>xemaclite_intr.c File Reference</h1><code>#include &quot;<a class="el" href="xemaclite__i_8h.html">xemaclite_i.h</a>&quot;</code><br/>
<code>#include &quot;xil_io.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="xemaclite_8h.html">xemaclite.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite__intr_8c.html#a28a0b4547f8b9b8eb675123df8ab8907">XEmacLite_EnableInterrupts</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite__intr_8c.html#acac27172503eee6a171afe1679c20f2c">XEmacLite_DisableInterrupts</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite__intr_8c.html#a72db0e7e81077c3ad3947009a5299fdf">XEmacLite_InterruptHandler</a> (void *InstancePtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite__intr_8c.html#a5bacfdd394bc95a6b34dec438bfad8bf">XEmacLite_SetRecvHandler</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr, void *CallBackRef, <a class="el" href="xemaclite_8h.html#adfca662ba36ecd3fa7f5816d33e1235a">XEmacLite_Handler</a> FuncPtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite__intr_8c.html#a2e48d33c6b41774f4cb37bffc85f59a1">XEmacLite_SetSendHandler</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr, void *CallBackRef, <a class="el" href="xemaclite_8h.html#adfca662ba36ecd3fa7f5816d33e1235a">XEmacLite_Handler</a> FuncPtr)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Functions in this file are for the interrupt driven processing functionality. See <a class="el" href="xemaclite_8h.html">xemaclite.h</a> for a detailed description of the driver.</p>
<pre>
 MODIFICATION HISTORY:</pre><pre> Ver   Who  Date     Changes
 ----- ---- -------- --------------------------------------------------------
 1.01a ecm  03/31/04 First release
 1.11a mta  03/21/07 Updated to new coding style
 2.01a ktn  07/20/09 Modified the XEmacLite_EnableInterrupts and
                     XEmacLite_DisableInterrupts functions to enable/disable
                     the interrupt in the Ping buffer as this is used to enable
                     the interrupts for both Ping and Pong Buffers.
                     The interrupt enable bit in the Pong buffer is not used by
                     the HW.
 3.00a ktn  10/22/09 Updated file to use the HAL Processor APIs/macros.
		      The macros have been renamed to remove _m from the name.</pre><pre> </pre> <hr/><h2>Function Documentation</h2>
<a class="anchor" id="acac27172503eee6a171afe1679c20f2c"></a><!-- doxytag: member="xemaclite_intr.c::XEmacLite_DisableInterrupts" ref="acac27172503eee6a171afe1679c20f2c" args="(XEmacLite *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XEmacLite_DisableInterrupts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables the interrupts from the device (the higher layer software is responsible for disabling interrupts at the interrupt controller).</p>
<p>To start using the device again, _EnableInterrupts must be called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance .</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a28a0b4547f8b9b8eb675123df8ab8907"></a><!-- doxytag: member="xemaclite_intr.c::XEmacLite_EnableInterrupts" ref="a28a0b4547f8b9b8eb675123df8ab8907" args="(XEmacLite *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XEmacLite_EnableInterrupts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enable the EmacLite Interrupts.</p>
<p>This function must be called before other functions to send or receive data in interrupt driven mode. The user should have connected the interrupt handler of the driver to an interrupt source such as an interrupt controller or the processor interrupt prior to this function being called.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS if the device interrupts were enabled successfully.</li>
<li>XST_NO_CALLBACK if the callbacks were not set.</li>
</ul>
</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a72db0e7e81077c3ad3947009a5299fdf"></a><!-- doxytag: member="xemaclite_intr.c::XEmacLite_InterruptHandler" ref="a72db0e7e81077c3ad3947009a5299fdf" args="(void *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XEmacLite_InterruptHandler </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Interrupt handler for the EmacLite driver. It performs the following processing:</p>
<ul>
<li>Get the interrupt status from the registers to determine the source of the interrupt.</li>
<li>Call the appropriate handler based on the source of the interrupt.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>contains a pointer to the EmacLite device instance for the interrupt.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a5bacfdd394bc95a6b34dec438bfad8bf"></a><!-- doxytag: member="xemaclite_intr.c::XEmacLite_SetRecvHandler" ref="a5bacfdd394bc95a6b34dec438bfad8bf" args="(XEmacLite *InstancePtr, void *CallBackRef, XEmacLite_Handler FuncPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XEmacLite_SetRecvHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>CallBackRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xemaclite_8h.html#adfca662ba36ecd3fa7f5816d33e1235a">XEmacLite_Handler</a>&nbsp;</td>
          <td class="paramname"> <em>FuncPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the callback function for handling received frames in interrupt mode. The upper layer software should call this function during initialization. The callback is called when a frame is received. The callback function should communicate the data to a thread such that the processing is not performed in an interrupt context.</p>
<p>The callback is invoked by the driver within interrupt context, so it needs to do its job quickly. If there are other potentially slow operations within the callback, these should be done at task-level.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance.. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CallBackRef</em>&nbsp;</td><td>is a reference pointer to be passed back to the application in the callback. This helps the application correlate the callback to a particular driver. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FuncPtr</em>&nbsp;</td><td>is the pointer to the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a2e48d33c6b41774f4cb37bffc85f59a1"></a><!-- doxytag: member="xemaclite_intr.c::XEmacLite_SetSendHandler" ref="a2e48d33c6b41774f4cb37bffc85f59a1" args="(XEmacLite *InstancePtr, void *CallBackRef, XEmacLite_Handler FuncPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XEmacLite_SetSendHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>CallBackRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xemaclite_8h.html#adfca662ba36ecd3fa7f5816d33e1235a">XEmacLite_Handler</a>&nbsp;</td>
          <td class="paramname"> <em>FuncPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the callback function for handling transmitted frames in interrupt mode. The upper layer software should call this function during initialization. The callback is called when a frame is transmitted. The callback function should communicate the data to a thread such that the processing is not performed in an interrupt context.</p>
<p>The callback is invoked by the driver within interrupt context, so it needs to do its job quickly. If there are other potentially slow operations within the callback, these should be done at task-level.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CallBackRef</em>&nbsp;</td><td>is a reference pointer to be passed back to the application in the callback. This helps the application correlate the callback to a particular driver. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FuncPtr</em>&nbsp;</td><td>is the pointer to the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
</div>
<p class="Copyright">
Copyright &copy; 1995-2014 Xilinx, Inc. All rights reserved.
</p>
</body>
</html>

<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   CFA
</title>
<link href="$DriverApiDocsCssPath" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>CFA</h1>
<p>
This header file contains identifiers and register-level core functions (or macros), range macros, structure typedefs that can be used to access the Xilinx Color Filter Array Interpolation (CFA) core.<p>
The Color Filter Array Interpolation core reconstructs a color image from an RGB or CMY Bayer filtered sensor using a 5x5 interpolation aperture. The core is capable of a maximum resolution of 7680 columns by 7680 rows with 8, 10, or 12 bits per pixel and supports the bandwidth necessary for High-definition (1080p60) resolutions in all Xilinx FPGA device families. Higher resolutions can be supported in Xilinx high-performance device families.<p>
<b>Initialization &amp; Configuration</b><p>
The device driver enables higher layer software (e.g., an application) to communicate to the CFA core.<p>
<a class="el" href="xcfa_8c.html#f21a4a9fe167729fd388e53a9ae467d9">XCfa_CfgInitialize()</a> API is used to initialize the CFA core. The user needs to first call the <a class="el" href="xcfa_8h.html#a66ae38886661dd25bc5b5831a32fa11">XCfa_LookupConfig()</a> API which returns the Configuration structure pointer which is passed as a parameter to the <a class="el" href="xcfa_8c.html#f21a4a9fe167729fd388e53a9ae467d9">XCfa_CfgInitialize()</a> API.<p>
<b> Interrupts </b><p>
The driver provides an interrupt handler XCfa_IntrHandler for handling the interrupt from the CFA core. The users of this driver have to register this handler with the interrupt system and provide the callback functions by using XCfa_SetCallBack API.<p>
<b> Virtual Memory </b><p>
This driver supports Virtual Memory. The RTOS is responsible for calculating the correct device base address in Virtual Memory space.<p>
<b> Threads </b><p>
This driver is not thread safe. Any needs for threads or thread mutual exclusion must be satisfied by the layer above this driver.<p>
<b> Asserts </b><p>
Asserts are used within all Xilinx drivers to enforce constraints on argument values. Asserts can be turned off on a system-wide basis by defining, at compile time, the NDEBUG identifier. By default, asserts are turned on and it is recommended that users leave asserts on during development.<p>
<b> Building the driver </b><p>
The <a class="el" href="struct_x_cfa.html">XCfa</a> driver is composed of several source files. This allows the user to build and link only those parts of the driver that are necessary.<p>
<pre>
 MODIFICATION HISTORY:</pre><p>
<pre> Ver   Who    Date     Changes
 ----- ------ -------- ----------------------------------------------
 1.00a xd     08/05/08 First release
 3.00a gz     10/22/10 Updated for CFA V3.0
 4.00a rc     09/11/11 Updated for CFA v4.0
 5.00a se     12/01/11 Updated for CFA v5.0, replaced xio.h with xil_io.h.
 6.0   adk    19/12/13 Updated as per the New Tcl API's.
 7.0   adk    01/07/14 Changed the file name from cfa.h to <a class="el" href="xcfa_8h.html">xcfa.h</a>
                       Defined following handler types as enum
                       XCFA_HANDLER_PROCSTART, XCFA_HANDLER_FRAMEDONE,
                       XCFA_HANDLER_ERROR.</pre><p>
<pre>                       Defined the BayerPhaseCombination enum
                       for bayerphase combinations.</pre><p>
<pre>                       Defined the following macros:
                       XCFA_VSIZE_FIRST, XCFA_VSIZE_LAST
                       XCFA_HSIZE_FIRST, XCFA_HSIZE_LAST
                       XCfa_Start, XCfa_Stop, XCfa_IntrEnable,
                       XCfa_IntrDisable, XCfa_StatusGetPending,
                       XCfa_IntrGetPending, XCfa_IntrClear.</pre><p>
<pre>                       Added the following function macros:
                       XCfa_Enable, XCfa_Disable, XCfa_Reset, XCfa_SyncReset,
                       XCfa_RegUpdateEnable, XCfa_RegUpdateDisable.</pre><p>
<pre>                       Removed the following functional macros:
                       CFA_Enable, CFA_Disable, CFA_Reset, CFA_FSyncReset,
                       XCFA_RegUpdateEnable, XCFA_RegUpdateDisable,
                       CFA_ClearReset, CFA_ClearStatus.</pre><p>
<pre>                       Defined the following type definitions:
                       <a class="el" href="struct_x_cfa___config.html">XCfa_Config</a> and <a class="el" href="struct_x_cfa.html">XCfa</a> structures.
                       XCfa_CallBack and XCfa_ErrorCallBack.</pre><p>
<pre>                       Changes in <a class="el" href="xcfa__hw_8h.html">xcfa_hw.h</a>:
                       Added the register offsets and bit masks for the
                       registers and added backward compatibility for macros.</pre><p>
<pre>                       Changes in <a class="el" href="xcfa_8c.html">xcfa.c</a>:
                       Renamed this file as below:
                       cfa.c -&gt; <a class="el" href="xcfa_8c.html">xcfa.c</a>
                       Implemented the following functions:
                       XCfa_CfgInitialize, XCfa_Setup, XCfa_GetVersion,
                       XCfa_EnableDbgByPass, XCfa_IsDbgByPassEnabled,
                       XCfa_DisableDbgBypass, XCfa_EnableDbgTestPattern,
                       XCfa_IsDbgTestPatternEnabled,
                       XCfa_DisableDbgTestPattern, XCfa_GetDbgFrameCount,
                       XCfa_GetDbgLineCount, XCfa_GetDbgPixelCount,
                       XCfa_SetActiveSize, XCfa_GetActiveSize,
                       XCfa_SetBayerPhase, XCfa_GetBayerPhase,
                       StubCallBack, StubErrCallBack.</pre><p>
<pre>                       Changes in  <a class="el" href="xcfa__intr_8c.html">xcfa_intr.c</a>:
                       Implemented the following functions:
                       XCfa_IntrHandler, XCfa_SetCallBack.</pre><p>
<pre>                       Changes in <a class="el" href="xcfa__selftest_8c.html">xcfa_selftest.c</a>:
                       Implemented XCfa_SelfTest function.</pre><p>
<pre>                       Changes in <a class="el" href="xcfa__sinit_8c.html">xcfa_sinit.c</a> :
                       Implemented XCfa_LookupConfig function.
 </pre> Copyright @ 1995-2014 Xilinx, Inc. All rights reserved. 

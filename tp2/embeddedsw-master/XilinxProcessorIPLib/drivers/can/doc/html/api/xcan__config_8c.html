<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   Xilinx Driver can v3_0: xcan_config.c File Reference
</title>
<link href="doxygen_kalyanidocs/doc/css/driver_api_doxygen.css" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">

<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>xcan_config.c File Reference</h1><code>#include &quot;xil_types.h&quot;</code><br/>
<code>#include &quot;xil_assert.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="xcan_8h.html">xcan.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xcan__config_8c.html#a75aabbb82d96151cadfd3c26a2a285e9">XCan_SetBaudRatePrescaler</a> (<a class="el" href="struct_x_can.html">XCan</a> *InstancePtr, u8 Prescaler)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xcan__config_8c.html#aee29a9e04aa8993561e0c11d1222c1f9">XCan_GetBaudRatePrescaler</a> (<a class="el" href="struct_x_can.html">XCan</a> *InstancePtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xcan__config_8c.html#af60120410396727f6e9304ce9ba65980">XCan_SetBitTiming</a> (<a class="el" href="struct_x_can.html">XCan</a> *InstancePtr, u8 SyncJumpWidth, u8 TimeSegment2, u8 TimeSegment1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xcan__config_8c.html#ab70138a7e54403355ec194f468f945fd">XCan_GetBitTiming</a> (<a class="el" href="struct_x_can.html">XCan</a> *InstancePtr, u8 *SyncJumpWidth, u8 *TimeSegment2, u8 *TimeSegment1)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Functions in this file are CAN Configuration Register access related.</p>
<pre>
 MODIFICATION HISTORY:</pre><pre> Ver   Who  Date     Changes
 ----- ---- -------- -------------------------------------------------------
 1.00a xd   04/12/05 First release
 1.10a mta  05/13/07 Updated to new coding style
 2.00a ktn  10/22/09 Updated to use the HAL APIs/macros.
		      The macros have been renamed to remove _m from the name.
 </pre> <hr/><h2>Function Documentation</h2>
<a class="anchor" id="aee29a9e04aa8993561e0c11d1222c1f9"></a><!-- doxytag: member="xcan_config.c::XCan_GetBaudRatePrescaler" ref="aee29a9e04aa8993561e0c11d1222c1f9" args="(XCan *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 XCan_GetBaudRatePrescaler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_can.html">XCan</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine gets Baud Rate Prescaler value. The system clock for the CAN controller is divided by (Prescaler + 1) to generate the quantum clock needed for sampling and synchronization. Read the device specification for details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_can.html">XCan</a> instance to be worked on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Current used Baud Rate Prescaler value. The value's range is from 0 to 255.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ab70138a7e54403355ec194f468f945fd"></a><!-- doxytag: member="xcan_config.c::XCan_GetBitTiming" ref="ab70138a7e54403355ec194f468f945fd" args="(XCan *InstancePtr, u8 *SyncJumpWidth, u8 *TimeSegment2, u8 *TimeSegment1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XCan_GetBitTiming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_can.html">XCan</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>SyncJumpWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>TimeSegment2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>TimeSegment1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine gets Bit time. Time segment 1, Time segment 2 and Synchronization Jump Width values are read in this function. According to device specification, the actual value of each of these fields is one more than the value read. Read the device specification for details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_can.html">XCan</a> instance to be worked on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SyncJumpWidth</em>&nbsp;</td><td>will store the Synchronization Jump Width value after this function returns. Its value ranges from 0 to 3. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TimeSegment2</em>&nbsp;</td><td>will store the Time Segment 2 value after this function returns. Its value ranges from 0 to 7. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TimeSegment1</em>&nbsp;</td><td>will store the Time Segment 1 value after this function returns. Its value ranges from 0 to 15.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a75aabbb82d96151cadfd3c26a2a285e9"></a><!-- doxytag: member="xcan_config.c::XCan_SetBaudRatePrescaler" ref="a75aabbb82d96151cadfd3c26a2a285e9" args="(XCan *InstancePtr, u8 Prescaler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XCan_SetBaudRatePrescaler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_can.html">XCan</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>Prescaler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine sets Baud Rate Prescaler value. The system clock for the CAN controller is divided by (Prescaler + 1) to generate the quantum clock needed for sampling and synchronization. Read the device specification for details.</p>
<p>Baud Rate Prescaler could be set only after CAN device entered Configuration Mode. So please call <a class="el" href="xcan_8c.html#a994a0b0bd9c938e99de9d7ffceb10ef3">XCan_EnterMode()</a> to enter Configuration Mode before using this function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_can.html">XCan</a> instance to be worked on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Prescaler</em>&nbsp;</td><td>is the value to set. Valid values are from 0 to 255.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS if the Baud Rate Prescaler value is set successfully.</li>
<li>XST_FAILURE if CAN device is not in Configuration Mode.</li>
</ul>
</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="af60120410396727f6e9304ce9ba65980"></a><!-- doxytag: member="xcan_config.c::XCan_SetBitTiming" ref="af60120410396727f6e9304ce9ba65980" args="(XCan *InstancePtr, u8 SyncJumpWidth, u8 TimeSegment2, u8 TimeSegment1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XCan_SetBitTiming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_can.html">XCan</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>SyncJumpWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>TimeSegment2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8&nbsp;</td>
          <td class="paramname"> <em>TimeSegment1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine sets Bit time. Time segment 1, Time segment 2 and Synchronization Jump Width are set in this function. Device specification requires the values passed into this function be one less than the actual values of these fields. Read the device specification for details.</p>
<p>Bit time could be set only after CAN device entered Configuration Mode. Please call <a class="el" href="xcan_8c.html#a994a0b0bd9c938e99de9d7ffceb10ef3">XCan_EnterMode()</a> to enter Configuration Mode before using this function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_can.html">XCan</a> instance to be worked on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SyncJumpWidth</em>&nbsp;</td><td>is the Synchronization Jump Width value to set. Valid values are from 0 to 3. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TimeSegment2</em>&nbsp;</td><td>is the Time Segment 2 value to set. Valid values are from 0 to 7. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TimeSegment1</em>&nbsp;</td><td>is the Time Segment 1 value to set. Valid values are from 0 to 15.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS if the Bit time is set successfully.</li>
<li>XST_FAILURE if CAN device is not in Configuration Mode.</li>
<li>XST_INVALID_PARAM if any value of SyncJumpWidth, TimeSegment2 and TimeSegment1 is invalid.</li>
</ul>
</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
</div>
<p class="Copyright">
Copyright &copy; 1995-2014 Xilinx, Inc. All rights reserved.
</p>
</body>
</html>

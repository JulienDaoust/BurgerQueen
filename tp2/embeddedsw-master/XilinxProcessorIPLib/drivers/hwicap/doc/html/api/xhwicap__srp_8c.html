<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   Xilinx Driver hwicap v10_0: xhwicap_srp.c File Reference
</title>
<link href="doxygen_kalyanidocs/doc/css/driver_api_doxygen.css" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">

<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>xhwicap_srp.c File Reference</h1><code>#include &lt;xil_types.h&gt;</code><br/>
<code>#include &lt;xil_assert.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="xhwicap_8h.html">xhwicap.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xhwicap__srp_8c.html#aa66afddd82bff4b8c8b5c9b1b27dfeee">DESYNC_COMMAND_SIZE</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xhwicap__srp_8c.html#adcf02f68805c34f20c3b154bb81f4d6a">CAPTURE_COMMAND_SIZE</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xhwicap__srp_8c.html#afac8d8976920a43f29e74411e977b931">READ_CFG_REG_COMMAND_SIZE</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xhwicap__srp_8c.html#a7c4b2410acc62af539dac03005668754">XHwIcap_CommandDesync</a> (<a class="el" href="struct_x_hw_icap.html">XHwIcap</a> *InstancePtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xhwicap__srp_8c.html#aff2a2db509296264ad44270798b4bed2">XHwIcap_CommandCapture</a> (<a class="el" href="struct_x_hw_icap.html">XHwIcap</a> *InstancePtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xhwicap__srp_8c.html#a305707eb013da39d038183c7f0d8fed9">XHwIcap_GetConfigReg</a> (<a class="el" href="struct_x_hw_icap.html">XHwIcap</a> *InstancePtr, u32 ConfigReg, u32 *RegData)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This file contains the functions of the <a class="el" href="struct_x_hw_icap.html">XHwIcap</a> driver used to access the configuration memory of the Xilinx FPGAs through the ICAP port.</p>
<p>These APIs provide methods for reading and writing data, frames, and partial bitstreams to the ICAP port. See <a class="el" href="xhwicap_8h.html">xhwicap.h</a> for a detailed description of the driver.</p>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>
<p>Only Virtex4, Virtex5, Virtex6, Spartan6 and kintex 7 devices are supported.</p>
<pre>
 MODIFICATION HISTORY:</pre><pre> Ver   Who  Date     Changes
 ----- ---- -------- -------------------------------------------------------
 1.00a bjb  11/17/03 First release
 1.01a sv   03/03/07 V4 Updates.
 2.00a ecm  10/20/07 V5 Support
 4.00a hvm  11/30/09 Added support for V6 and updated with HAL phase 1
		      modifications
 5.00a hvm  2/25/10  Added support for S6
 5.00a hvm  5/21/10  Modified XHwIcap_GetConfigReg function for V4/V5/V6/S6
			command sequence. Added one extra NOP before the
			Type 1 read config register command and removed an
			extra NOP after the config register command.
 6.00a hvm  8/12/11  Added support for K7
 7.00a bss  03/14/12 ReadId API is added to desync after lock up during
			configuration CR 637538</pre><pre> 8.00a bss  06/20/12 Deleted ReadId API as per CR 656162
 10.0  bss  6/24/14  Removed support for families older than 7 series
 </pre> <hr/><h2>Define Documentation</h2>
<a class="anchor" id="adcf02f68805c34f20c3b154bb81f4d6a"></a><!-- doxytag: member="xhwicap_srp.c::CAPTURE_COMMAND_SIZE" ref="adcf02f68805c34f20c3b154bb81f4d6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAPTURE_COMMAND_SIZE&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa66afddd82bff4b8c8b5c9b1b27dfeee"></a><!-- doxytag: member="xhwicap_srp.c::DESYNC_COMMAND_SIZE" ref="aa66afddd82bff4b8c8b5c9b1b27dfeee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DESYNC_COMMAND_SIZE&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afac8d8976920a43f29e74411e977b931"></a><!-- doxytag: member="xhwicap_srp.c::READ_CFG_REG_COMMAND_SIZE" ref="afac8d8976920a43f29e74411e977b931" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_CFG_REG_COMMAND_SIZE&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aff2a2db509296264ad44270798b4bed2"></a><!-- doxytag: member="xhwicap_srp.c::XHwIcap_CommandCapture" ref="aff2a2db509296264ad44270798b4bed2" args="(XHwIcap *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XHwIcap_CommandCapture </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_hw_icap.html">XHwIcap</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sends a CAPTURE command to the ICAP port. This command captures all of the flip flop states so they will be available during readback. One can use this command instead of enabling the CAPTURE block in the design.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_hw_icap.html">XHwIcap</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>XST_SUCCESS or XST_FAILURE</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a7c4b2410acc62af539dac03005668754"></a><!-- doxytag: member="xhwicap_srp.c::XHwIcap_CommandDesync" ref="a7c4b2410acc62af539dac03005668754" args="(XHwIcap *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XHwIcap_CommandDesync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_hw_icap.html">XHwIcap</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sends a DESYNC command to the ICAP port.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>- a pointer to the <a class="el" href="struct_x_hw_icap.html">XHwIcap</a> instance to be worked on</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>XST_SUCCESS else XST_FAILURE</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a305707eb013da39d038183c7f0d8fed9"></a><!-- doxytag: member="xhwicap_srp.c::XHwIcap_GetConfigReg" ref="a305707eb013da39d038183c7f0d8fed9" args="(XHwIcap *InstancePtr, u32 ConfigReg, u32 *RegData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 XHwIcap_GetConfigReg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_hw_icap.html">XHwIcap</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>ConfigReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&nbsp;</td>
          <td class="paramname"> <em>RegData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function returns the value of the specified configuration register.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_hw_icap.html">XHwIcap</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ConfigReg</em>&nbsp;</td><td>is a constant which represents the configuration register value to be returned. Constants specified in <a class="el" href="xhwicap__i_8h.html">xhwicap_i.h</a>. Examples: XHI_IDCODE, XHI_FLR. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RegData</em>&nbsp;</td><td>is the value of the specified configuration register.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>XST_SUCCESS or XST_FAILURE</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This is a blocking call. </dd></dl>

</div>
</div>
</div>
<p class="Copyright">
Copyright &copy; 1995-2014 Xilinx, Inc. All rights reserved.
</p>
</body>
</html>

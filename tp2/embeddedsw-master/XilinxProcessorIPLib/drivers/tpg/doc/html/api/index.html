<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   TPG_V3_0
</title>
<link href="$DriverApiDocsCssPath" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>TPG_V3_0</h1>
<p>
This header file contains identifiers and register-level driver functions (or macros) that can be used to access the Xilinx Test Pattern Generator (TPG) core instance.<p>
The TPG core provides a wide variety of tests patterns enabling you to debug and assess video system color, quality, edge, and motion performance.<p>
The Test Pattern Generator core produces the following patterns in RGB, YCbCr 444, or YCbCr 422 video format.<ul>
<li>Video input pass through</li><li>Horizontal ramp</li><li>Vertical ramp</li><li>Temporal ramp</li><li>Flat fields (red, green, blue, black and white)</li><li>Combined vertical and horizontal ramp</li><li>Color bars</li><li>Tartan bars</li><li>Zone plate</li><li>Cross hairs</li><li>Cross hatch</li><li>Solid box</li><li>Motion effect for ramps, zone plate, and solid box</li></ul>
<p>
<b>Initialization &amp; Configuration</b><p>
The device driver enables higher layer software (e.g., an application) to communicate to the TPG core.<p>
<a class="el" href="xtpg_8c.html#698faaf2415afa23731f5b300dffd10f">XTpg_CfgInitialize()</a> API is used to initialize the TPG core. The user needs to first call the <a class="el" href="xtpg_8h.html#469043e8dd6792504739c48fbf9406a7">XTpg_LookupConfig()</a> API which returns the Configuration structure pointer which is passed as a parameter to the <a class="el" href="xtpg_8c.html#698faaf2415afa23731f5b300dffd10f">XTpg_CfgInitialize()</a> API.<p>
<b> Interrupts </b><p>
The driver provides an interrupt handler XTpg_IntrHandler for handling the interrupt from the TPG core. The users of this driver have to register this handler with the interrupt system and provide the callback functions by using XTpg_SetCallBack API.<p>
<b> Virtual Memory </b><p>
This driver supports Virtual Memory. The RTOS is responsible for calculating the correct device base address in Virtual Memory space.<p>
<b> Threads </b><p>
This driver is not thread safe. Any needs for threads or thread mutual exclusion must be satisfied by the layer above this driver.<p>
<b> Asserts </b><p>
Asserts are used within all Xilinx drivers to enforce constraints on argument values. Asserts can be turned off on a system-wide basis by defining, at compile time, the NDEBUG identifier. By default, asserts are turned on and it is recommended that users leave asserts on during development.<p>
<b> Building the driver </b><p>
The <a class="el" href="struct_x_tpg.html">XTpg</a> driver is composed of several source files. This allows the user to build and link only those parts of the driver that are necessary.<p>
<pre>
 MODIFICATION HISTORY:</pre><p>
<pre> Ver   Who    Date     Changes
 ----- ------ -------- --------------------------------------------------
 1.00a se     10/01/12 Initial creation.
 2.0a  se     02/12/14 Cleaned up comments, updated masks and registers.
 2.0   adk    19/12/13 Updated as per the New Tcl API's.
 3.0   adk    02/19/14 Changed the file name from "tpg.h" to "xtpg.h"
                       Register offsets, TPG_In32, TPG_In32, TPG_ReadReg,
                       TPG_WriteReg and bit definitions of tpg.h file
                       were moved to <a class="el" href="xtpg__hw_8h.html">xtpg_hw.h</a> file.</pre><p>
<pre>                       Removed the following bit definitions :
                       TPG_CTL_CS_MASK.</pre><p>
<pre>                       Defined the following handler types as enum values:
                       XTPG_HANDLER_PROCSTART ,XTPG_HANDLER_FRAMEDONE and
                       XTPG_HANDLER_ERROR.
                       Defined the following enums:
                       XTpg_BackgroundPattern, XTpg_ComponentMask and
                       XTpg_BayerPhaseCombination.</pre><p>
<pre>                       Defined the following range macros
                       XTPG_MOTION_SPEED_MIN, XTPG_MOTION_SPEED_MAX,
                       XTPG_VSIZE_FIRST, XTPG_VSIZE_LAST, XTPG_HSIZE_FIRST,
                       XTPG_HSIZE_LAST.</pre><p>
<pre>                       Added the following function macros:
                       XTpg_Enable, XTpg_Disable, XTpg_Start, XTpg_Stop,
                       XTpg_RegUpdateEnable, XTpg_RegUpdateDisable,
                       XTpg_Reset, XTpg_SyncReset, XTpg_IntrEnable,
                       XTpg_IntrDisable, XTpg_StatusGetPending,
                       XTpg_IntrGetPending, XTpg_IntrClear.</pre><p>
<pre>                       Removed following function macros:
                       TPG_Enable, TPG_Disable, TPG_RegUpdateEnable,
                       TPG_RegUpdateDisable, TPG_Reset, TPG_FSyncReset
                       TPG_ClearStatus, TPG_ClearReset.
                       Added the following structures
                       <a class="el" href="struct_x_tpg.html">XTpg</a> and <a class="el" href="struct_x_tpg___config.html">XTpg_Config</a>.</pre><p>
<pre>                       Implemented XTpg_LookupConfig in <a class="el" href="xtpg__sinit_8c.html">xtpg_sinit.c</a>
                       Implemented XTpg_SelfTest in <a class="el" href="xtpg__selftest_8c.html">xtpg_selftest.c</a>
                       Implemented XTpg_IntrHandler, XTpg_SetCallBack in
                       <a class="el" href="xtpg__intr_8c.html">xtpg_intr.c</a>.</pre><p>
<pre>                       Added the register offsets and bit masks for the
                       registers and added backward compatibility for
                       macros.in <a class="el" href="xtpg__hw_8h.html">xtpg_hw.h</a>.</pre><p>
<pre>                       Modification history from <a class="el" href="xtpg_8c.html">xtpg.c</a> file:
                       Changed the file name form "tpg.c" to "xtpg.c".
                       Implemented the following functions:
                       XTpg_CfgInitialize, XTpg_Setup, XTpg_GetVersion,
                       XTpg_SetActiveSize, XTpg_GetActiveSize,
                       XTpg_SetBackground, XTpg_GetBackground,
                       XTpg_EnableCrossHair, XTpg_DisableCrossHair,
                       XTpg_EnableBox, XTpg_DisableBox, XTpg_SetComponentMask,
                       XTpg_GetComponentMask, XTpg_EnableStuckPixel,
                       XTpg_DisableStuckPixel, XTPg_EnableNoise,
                       XTPg_DisableNoise, XTpg_EnableMotion,
                       XTpg_DisableMotion, XTpg_SetMotionSpeed,
                       XTpg_GetMotionSpeed, XTpg_SetCrosshairPosition,
                       XTpg_GetCrosshairPosition, XTpg_SetZPlateHStart,
                       XTpg_GetZPlateHStart, XTpg_SetZPlateHSpeed,
                       XTpg_GetZPlateHSpeed, XTpg_SetZPlateVStart,
                       XTpg_GetZPlateVStart, XTpg_SetZPlateVSpeed,
                       XTpg_GetZPlateVSpeed, XTpg_SetBoxSize, XTpg_GetBoxSize,
                       XTpg_SetBoxColor, XTpg_GetBoxColor,
                       XTpg_SetStuckPixelThreshold,
                       XTpg_GetStuckPixelThreshold, XTpg_SetNoiseGain,
                       XTpg_GetNoiseGain, XTpg_SetBayerPhase,
                       XTpg_GetBayerPhase, XTpg_SetPattern, XTpg_GetPattern.</pre><p>
<pre> </pre> Copyright @ 1995-2014 Xilinx, Inc. All rights reserved. 

<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   Xilinx Driver iic v3_0: xiic_options.c File Reference
</title>
<link href="doxygen_kalyanidocs/doc/css/driver_api_doxygen.css" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">

<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>xiic_options.c File Reference</h1><code>#include &quot;<a class="el" href="xiic_8h.html">xiic.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="xiic__i_8h.html">xiic_i.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xiic__options_8c.html#a900a7ab49c2e13b0562ab629c088cf3a">XIic_SetOptions</a> (<a class="el" href="struct_x_iic.html">XIic</a> *InstancePtr, u32 NewOptions)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xiic__options_8c.html#af15dd70c4f1bb34a9e35c1ca85cee841">XIic_GetOptions</a> (<a class="el" href="struct_x_iic.html">XIic</a> *InstancePtr)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Contains options functions for the <a class="el" href="struct_x_iic.html">XIic</a> component. This file is not required unless the functions in this file are called.</p>
<pre>
 MODIFICATION HISTORY:</pre><pre> Ver   Who  Date     Changes
 ----- --- ------- -----------------------------------------------
 1.01b jhl 3/26/02 repartioned the driver
 1.01c ecm 12/05/02 new rev
 1.13a wgr 03/22/07 Converted to new coding style.
 2.00a ktn 10/22/09 Converted all register accesses to 32 bit access.
		     Updated to use the HAL APIs/macros.
 </pre> <hr/><h2>Function Documentation</h2>
<a class="anchor" id="af15dd70c4f1bb34a9e35c1ca85cee841"></a><!-- doxytag: member="xiic_options.c::XIic_GetOptions" ref="af15dd70c4f1bb34a9e35c1ca85cee841" args="(XIic *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 XIic_GetOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic.html">XIic</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function gets the current options for the IIC device. Options control the how the device behaves on the IIC bus. See SetOptions for more information on options.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_iic.html">XIic</a> instance to be worked on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The options of the IIC device. See <a class="el" href="xiic_8h.html">xiic.h</a> for a list of available options.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>
<p>Options enabled will have a 1 in its appropriate bit position. </p>

</div>
</div>
<a class="anchor" id="a900a7ab49c2e13b0562ab629c088cf3a"></a><!-- doxytag: member="xiic_options.c::XIic_SetOptions" ref="a900a7ab49c2e13b0562ab629c088cf3a" args="(XIic *InstancePtr, u32 NewOptions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XIic_SetOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_iic.html">XIic</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>NewOptions</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function sets the options for the IIC device driver. The options control how the device behaves relative to the IIC bus. If an option applies to how messages are sent or received on the IIC bus, it must be set prior to calling functions which send or receive data.</p>
<p>To set multiple options, the values must be ORed together. To not change existing options, read/modify/write with the current options using <a class="el" href="xiic_8h.html#af15dd70c4f1bb34a9e35c1ca85cee841">XIic_GetOptions()</a>.</p>
<p><b>USAGE EXAMPLE:</b></p>
<p>Read/modify/write to enable repeated start: </p>
<pre>
   u8 Options;
   Options = XIic_GetOptions(&amp;Iic);
   XIic_SetOptions(&amp;Iic, Options | XII_REPEATED_START_OPTION);
 </pre><p>Disabling General Call: </p>
<pre>
   Options = XIic_GetOptions(&amp;Iic);
   XIic_SetOptions(&amp;Iic, Options &amp;= ~XII_GENERAL_CALL_OPTION);
 </pre><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_iic.html">XIic</a> instance to be worked on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NewOptions</em>&nbsp;</td><td>are the options to be set. See <a class="el" href="xiic_8h.html">xiic.h</a> for a list of the available options.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>
<p>Sending or receiving messages with repeated start enabled, and then disabling repeated start, will not take effect until another master transaction is completed. i.e. After using repeated start, the bus will continue to be throttled after repeated start is disabled until a master transaction occurs allowing the IIC to release the bus. <br/>
<br/>
 Options enabled will have a 1 in its appropriate bit position. </p>

</div>
</div>
</div>
<p class="Copyright">
Copyright &copy; 1995-2014 Xilinx, Inc. All rights reserved.
</p>
</body>
</html>

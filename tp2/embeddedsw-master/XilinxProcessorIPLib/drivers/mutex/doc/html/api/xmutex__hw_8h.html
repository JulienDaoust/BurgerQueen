<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   Xilinx Driver mutex v4_0: xmutex_hw.h File Reference
</title>
<link href="doxygen_kalyanidocs/doc/css/driver_api_doxygen.css" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">

<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>xmutex_hw.h File Reference</h1><code>#include &quot;xil_io.h&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#a60f85a9b89886d33d2e255bcf8abb0f2">XMUTEX_HW_H</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#ac14e6e73d44fa8510ea7016607af6824">XMU_MUTEX_OFFSET</a>&nbsp;&nbsp;&nbsp;256</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#ac12aae3b150f35f5b214c329ed88b0d8">XMutex_Offset</a>(i)&nbsp;&nbsp;&nbsp;(XMU_MUTEX_OFFSET * i)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#ac521c86ba5c4f2bad8f73e515897a766">XMutex_ReadReg</a>(BaseAddress, MutexNumber, RegOffset)&nbsp;&nbsp;&nbsp;Xil_In32((BaseAddress) + XMutex_Offset(MutexNumber) + (RegOffset))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#a33160589a1793006209e4e259ca7de35">XMutex_WriteReg</a>(BaseAddress, MutexNumber, RegOffset, ValueToWrite)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Register Offset Definitions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp73ef0a73b2ea2db0d81f41505805ece5"></a> Register offsets within a Mutex, there are multiple Mutexes within a single device </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#ac717e990a2cbe85f19525c46aefc84b6">XMU_MUTEX_REG_OFFSET</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#a7317a6291745987d25c994702005fff2">XMU_USER_REG_OFFSET</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td colspan="2"><div class="groupHeader">Mutex Register Bit Definitions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpb3fca41a54398cd4a3b0aae58a737831"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#a086991b467a934c97022a305bb957977">LOCKED_BIT</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#a97587665957065c60155f02edb2d195d">OWNER_MASK</a>&nbsp;&nbsp;&nbsp;0x000001FE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#ad3725eb84e9d09431334eecbcf66bcd1">OWNER_SHIFT</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This header file contains identifiers/definitions and macros that can be used to access the device. The user should refer to the hardware device specification for more details of the device operation. The driver functions are defined in <a class="el" href="xmutex_8h.html">xmutex.h</a>.</p>
<pre>
 MODIFICATION HISTORY:</pre><pre> Ver   Who  Date     Changes
 ----- ---- -------- -----------------------------------------------
 1.00a va            First release
 1.00a ecm  06/01/07 Cleanup, new coding standard, check into XCS
 3.00a hbm  10/15/09 Migrated to HAL phase 1 to use xil_io, xil_types,
			and xil_assert.
 </pre> <hr/><h2>Define Documentation</h2>
<a class="anchor" id="a086991b467a934c97022a305bb957977"></a><!-- doxytag: member="xmutex_hw.h::LOCKED_BIT" ref="a086991b467a934c97022a305bb957977" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCKED_BIT&nbsp;&nbsp;&nbsp;0x00000001</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is the Lock bit. Set to 1 indicates that the lock is currently owned by the processor ID specified by the CPU_ID (OWNER_MASK) in this register. Set to 0 indicates that the lock is free. </p>

</div>
</div>
<a class="anchor" id="a97587665957065c60155f02edb2d195d"></a><!-- doxytag: member="xmutex_hw.h::OWNER_MASK" ref="a97587665957065c60155f02edb2d195d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OWNER_MASK&nbsp;&nbsp;&nbsp;0x000001FE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is CPU_ID Mask. CPU_ID indicates the ID the processor holding the lock. </p>

</div>
</div>
<a class="anchor" id="ad3725eb84e9d09431334eecbcf66bcd1"></a><!-- doxytag: member="xmutex_hw.h::OWNER_SHIFT" ref="ad3725eb84e9d09431334eecbcf66bcd1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OWNER_SHIFT&nbsp;&nbsp;&nbsp;0x00000001</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is CPU_ID Shift </p>

</div>
</div>
<a class="anchor" id="ac14e6e73d44fa8510ea7016607af6824"></a><!-- doxytag: member="xmutex_hw.h::XMU_MUTEX_OFFSET" ref="ac14e6e73d44fa8510ea7016607af6824" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XMU_MUTEX_OFFSET&nbsp;&nbsp;&nbsp;256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac717e990a2cbe85f19525c46aefc84b6"></a><!-- doxytag: member="xmutex_hw.h::XMU_MUTEX_REG_OFFSET" ref="ac717e990a2cbe85f19525c46aefc84b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XMU_MUTEX_REG_OFFSET&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mutex register </p>

</div>
</div>
<a class="anchor" id="a7317a6291745987d25c994702005fff2"></a><!-- doxytag: member="xmutex_hw.h::XMU_USER_REG_OFFSET" ref="a7317a6291745987d25c994702005fff2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XMU_USER_REG_OFFSET&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>User register </p>

</div>
</div>
<a class="anchor" id="a60f85a9b89886d33d2e255bcf8abb0f2"></a><!-- doxytag: member="xmutex_hw.h::XMUTEX_HW_H" ref="a60f85a9b89886d33d2e255bcf8abb0f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XMUTEX_HW_H</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac12aae3b150f35f5b214c329ed88b0d8"></a><!-- doxytag: member="xmutex_hw.h::XMutex_Offset" ref="ac12aae3b150f35f5b214c329ed88b0d8" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XMutex_Offset</td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(XMU_MUTEX_OFFSET * i)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac521c86ba5c4f2bad8f73e515897a766"></a><!-- doxytag: member="xmutex_hw.h::XMutex_ReadReg" ref="ac521c86ba5c4f2bad8f73e515897a766" args="(BaseAddress, MutexNumber, RegOffset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XMutex_ReadReg</td>
          <td>(</td>
          <td class="paramtype">BaseAddress, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MutexNumber, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RegOffset&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;Xil_In32((BaseAddress) + XMutex_Offset(MutexNumber) + (RegOffset))</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read one of the Mutex registers.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>BaseAddress</em>&nbsp;</td><td>contains the base address of the Mutex device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MutexNumber</em>&nbsp;</td><td>contains the specific Mutex within the device, a zero based number, 0 - (NumMutexConfigured in HW - 1). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RegOffset</em>&nbsp;</td><td>contains the offset from the 1st register of the Mutex to select the specific register of the Mutex.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The 32 bit value read from the register.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>C-style signature: u32 XMutex_ReadReg(u32 BaseAddress, u8 MutexNumber, unsigned RegOffset) </dd></dl>

</div>
</div>
<a class="anchor" id="a33160589a1793006209e4e259ca7de35"></a><!-- doxytag: member="xmutex_hw.h::XMutex_WriteReg" ref="a33160589a1793006209e4e259ca7de35" args="(BaseAddress, MutexNumber, RegOffset, ValueToWrite)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XMutex_WriteReg</td>
          <td>(</td>
          <td class="paramtype">BaseAddress, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MutexNumber, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RegOffset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ValueToWrite&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">Xil_Out32(((BaseAddress) + <a class="code" href="xmutex__hw_8h.html#ac12aae3b150f35f5b214c329ed88b0d8">XMutex_Offset</a>(MutexNumber) +            \
                        (RegOffset)), (ValueToWrite))
</pre></div><p>Write a specified value to a register of a Mutex.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>BaseAddress</em>&nbsp;</td><td>is the base address of the Mutex device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MutexNumber</em>&nbsp;</td><td>is the specific Mutex within the device, a zero based number, 0 - (NumMutexConfigured in HW - 1). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RegOffset</em>&nbsp;</td><td>contain the offset from the 1st register of the Mutex to select the specific register of the Mutex. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ValueToWrite</em>&nbsp;</td><td>is the 32 bit value to be written to the register.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>C-style signature: void XMutex_WriteReg(u32 BaseAddress, u8 MutexNumber, unsigned RegOffset, u32 ValueToWrite) </dd></dl>

</div>
</div>
</div>
<p class="Copyright">
Copyright &copy; 1995-2014 Xilinx, Inc. All rights reserved.
</p>
</body>
</html>
